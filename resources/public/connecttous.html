<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv='Content-type' content='text/html; charset=utf-8'>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <script type="text/javascript">
            if (!Function.prototype.bind) {
                Function.prototype.bind = function (oThis) {
                    if (typeof this !== "function") {
                        // closest thing possible to the ECMAScript 5 internal IsCallable function
                        throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
                    }

                    var aArgs = Array.prototype.slice.call(arguments, 1),
                        fToBind = this,
                        fNOP = function () {},
                        fBound = function () {
                            return fToBind.apply(this instanceof fNOP && oThis
                                                 ? this
                                                 : oThis,
                                                 aArgs.concat(Array.prototype.slice.call(arguments)));
                        };

                    fNOP.prototype = this.prototype;
                    fBound.prototype = new fNOP();

                    return fBound;
                };
            }

            navigator.sayswho= (function(){
                var ua= navigator.userAgent, tem,
                    M= ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
                if(/trident/i.test(M[1])){
                    tem=  /\brv[ :]+(\d+)/g.exec(ua) || [];
                    return 'IE '+(tem[1] || '');
                }
                if(M[1]=== 'Chrome'){
                    tem= ua.match(/\bOPR\/(\d+)/)
                    if(tem!= null) return 'Opera '+tem[1];
                }
                M= M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];
                if((tem= ua.match(/version\/(\d+)/i))!= null) M.splice(1, 1, tem[1]);
                return M.join(' ');
            })();
        </script>

        <!--[if lt IE 9]>
        <script src="consolepolyfill.js"></script>
        <script src="es5-shim.js"></script>
        <script src="es5-sham.js"></script>
        <script src="html5shiv.js"></script>
        <![endif]-->
        <script type="text/javascript" src="react.js"></script>

        <title>ConnectToUs.co 0.3</title>
        <style>
            body
            {
                background-color:#d0e4fe;
                color:black;
                font-family:"Times New Roman";
                font-size:20px;
            }
        </style>
        <script type="text/javascript" src="jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="jquery-ui-1.10.3.custom.min.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="coilshelpers.js"></script>

        <link href="bootstrap/css/bootstrap.min.css" type="text/css" rel="stylesheet"/>
        <link href="main.css" type="text/css" rel="stylesheet"/>
        <link href="docs.css" type="text/css" rel="stylesheet"/>



        <script>
            mousex=0;
            mousey=0;
            function show_coords(event)
            {
                mousex=event.clientX;
                mousey=event.clientY;
                //console.log("X coords: " + mousex + ", Y coords: " + mousey);
            }

            viewportw = 0;
            viewporth = 0;
            function doSomething() {
                viewportw = Math.max(document.documentElement.clientWidth, window.innerWidth || 0)
                viewporth = Math.max(document.documentElement.clientHeight, window.innerHeight || 0)
                //alert(viewportw + "," + viewporth);
            };
            doSomething();

            var resizeTimer;
            $(window).resize(function() {
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(doSomething, 100);
            });

        </script>
    </head>




    <body style="font-size: 20px; font-family:sans-serif;
                 height:100%; width:100%;position: absolute;
                 padding: 10px;">

        <div id=main               style='color=black;'
             ></div>

        <div id=main_playback      style='color=black;'></div>
        <div id=playback_controls  style='color=black;'></div>
        <div id=playback_canvas    style='color=black;'></div>
        <div id=playback_state     style='color=black;'></div>
    </body>




    <script type="text/javascript">
        function parseQueryString() {

            var str = window.location.search;
            var objURL = {};

            str.replace(
                new RegExp( "([^?=&]+)(=([^&]*))?", "g" ),
                function( $0, $1, $2, $3 ){
                    objURL[ $1 ] = $3;
                }
            );
            return objURL;
        };

        $( document ).ready(function() {
            params = parseQueryString();
            playback = params["playback"];
            //alert(""+playback);
            if (webapp.client) {
                if (webapp.client.main) {
                    if (playback) {
                        webapp.client.main.load_admin();
                    }
                    else {
                        webapp.client.main.load_main();
                    };
                };
            }
        });
    </script>

    <script type="text/javascript" src="main.js"></script>

</html>

